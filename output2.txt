extern ? sTextboxLowerYPositions;

void Message_DecodeNES(PlayState *play) {
    Font *spE0;
    Actor *spDC;
    s16 spDA;
    s16 spD0;
    s16 spCE;
    s16 spCC;
    s16 spCA;                                       /* compiler-managed */
    s16 spC8;
    s16 spC6;
    s32 spBC;
    s16 spA8;
    f32 spA4;
    s32 sp94;
    s32 sp90;
    s32 sp78;
    void *sp70;
    Font *temp_s3;
    MessageContext *temp_s6;
    f32 temp_fv0;
    f32 var_fs0;
    s16 *temp_s0;
    s16 *temp_s0_10;
    s16 *temp_s0_11;
    s16 *temp_s0_12;
    s16 *temp_s0_2;
    s16 *temp_s0_3;
    s16 *temp_s0_4;
    s16 *temp_s0_5;
    s16 *temp_s0_6;
    s16 *temp_s0_7;
    s16 *temp_s0_8;
    s16 *temp_s0_9;
    s16 temp_a0_3;
    s16 temp_t0;
    s16 temp_t2;
    s16 temp_t2_2;
    s16 temp_t2_3;
    s16 temp_t3;
    s16 temp_t3_2;
    s16 temp_t3_3;
    s16 temp_t4;
    s16 temp_t4_2;
    s16 temp_t4_3;
    s16 temp_t4_5;
    s16 temp_t5;
    s16 temp_t5_2;
    s16 temp_t5_3;
    s16 temp_t5_4;
    s16 temp_t5_5;
    s16 temp_t6;
    s16 temp_t6_2;
    s16 temp_t6_3;
    s16 temp_t7_2;
    s16 temp_t7_3;
    s16 temp_t7_4;
    s16 temp_t7_5;
    s16 temp_t7_6;
    s16 temp_t7_7;
    s16 temp_t8;
    s16 temp_t9_2;
    s16 temp_t9_4;
    s16 temp_v0_10;
    s16 temp_v0_12;
    s16 temp_v0_13;
    s16 temp_v0_17;
    s16 temp_v0_18;
    s16 temp_v0_6;
    s16 temp_v0_7;
    s16 temp_v0_8;
    s16 temp_v0_9;
    s16 var_a0;
    s16 var_a3;
    s16 var_a3_10;
    s16 var_a3_11;
    s16 var_a3_2;
    s16 var_a3_3;
    s16 var_a3_4;
    s16 var_a3_5;
    s16 var_a3_6;
    s16 var_a3_7;
    s16 var_a3_8;
    s16 var_a3_9;
    s16 var_s0;
    s16 var_s0_2;
    s16 var_s0_3;
    s16 var_s1;
    s16 var_s1_10;
    s16 var_s1_11;
    s16 var_s1_12;
    s16 var_s1_13;
    s16 var_s1_14;
    s16 var_s1_15;
    s16 var_s1_16;
    s16 var_s1_17;
    s16 var_s1_18;
    s16 var_s1_19;
    s16 var_s1_20;
    s16 var_s1_21;
    s16 var_s1_22;
    s16 var_s1_23;
    s16 var_s1_24;
    s16 var_s1_25;
    s16 var_s1_26;
    s16 var_s1_27;
    s16 var_s1_28;
    s16 var_s1_29;
    s16 var_s1_2;
    s16 var_s1_30;
    s16 var_s1_3;
    s16 var_s1_4;
    s16 var_s1_5;
    s16 var_s1_6;
    s16 var_s1_7;
    s16 var_s1_8;
    s16 var_s1_9;
    s16 var_t1;
    s16 var_v1_3;
    s32 temp_a0;
    s32 temp_a0_4;
    s32 temp_a1;
    s32 temp_a1_2;
    s32 temp_a1_9;
    s32 temp_ft2;
    s32 temp_ft3;
    s32 temp_t0_2;
    s32 temp_t7;
    s32 temp_t9;
    s32 temp_t9_3;
    s32 temp_v0_2;
    s32 temp_v1;
    s32 var_a0_2;
    s32 var_s2_10;
    s32 var_s2_11;
    s32 var_s2_12;
    s32 var_s2_13;
    s32 var_s2_14;
    s32 var_s2_15;
    s32 var_s2_16;
    s32 var_s2_17;
    s32 var_s2_18;
    s32 var_s2_2;
    s32 var_s2_3;
    s32 var_s2_4;
    s32 var_s2_5;
    s32 var_s2_6;
    s32 var_s2_7;
    s32 var_s2_8;
    s32 var_v0_2;
    s8 *temp_v0_3;
    s8 temp_a0_2;
    u16 temp_a1_3;
    u16 temp_a1_4;
    u16 temp_a1_5;
    u16 temp_a1_6;
    u16 temp_a1_7;
    u16 temp_a1_8;
    u16 temp_t4_4;
    u16 temp_v0;
    u16 var_v1_4;
    u32 temp_v0_14;
    u8 *var_v0;
    u8 temp_s2;
    u8 temp_s2_2;
    u8 temp_v0_11;
    u8 temp_v0_15;
    u8 temp_v0_16;
    u8 temp_v0_19;
    u8 temp_v0_4;
    u8 var_s2;
    u8 var_s2_9;
    u8 var_v1;
    u8 var_v1_2;
    void *temp_t1;
    void *temp_v0_5;
    void *temp_v1_2;
    void *var_at;

    temp_s3 = &play->msgCtx.font;
    spE0 = temp_s3;
    spDA = 0;
    spC6 = 0;
    spBC = 0;
    spD0 = 0;
    spDC = play->actorCtx.actorLists[2].first;
    play->msgCtx.textDelayTimer = 0;
    play->msgCtx.textDelay = play->msgCtx.textDelayTimer;
    play->msgCtx.textFade = 0;
    spA4 = 0.0f;
    play->msgCtx.font.unk_11D88 = (play->msgCtx.font.unk_11D88 ^ 1) & 1;
    Message_SetupLoadItemIcon(play);
    temp_s6 = &play->msgCtx;
    sp70 = temp_s6 + 0x10000;
loop_1:
    temp_s2 = temp_s3->charBuf[0][sp70->unk1FEC].unk11880;
    temp_s6->decodedBuffer.schar[spDA] = (s8) temp_s2;
    if ((temp_s2 != 0x10) && (temp_s2 != 0x12) && (temp_s2 != 0x1B) && (temp_s2 != 0x1C) && (temp_s2 != 0x1D) && (temp_s2 != 0x19) && (temp_s2 != 0xE0) && (temp_s2 != 0xBF) && (temp_s2 != 0x15)) {
        if (temp_s2 == 0x1A) {

        } else {
            var_s0 = 8;
            if (temp_s2 == 0x16) {
                var_s1 = 0;
loop_52:
                if (*(&gSaveContext + 0x2B + var_s0) == 0x3E) {
                    var_s0 -= 1;
                    if (var_s0 > 0) {
                        goto loop_52;
                    }
                }
                if (var_s0 > 0) {
                    do {
                        var_s2 = (u8) gSaveContext.save.playerData.playerName[var_s1];
                        var_v1 = var_s2;
                        if (var_s2 == 0x3E) {
                            var_s2 = 0x20;
                            var_v1 = 0x20;
                        } else if (var_v1 == 0x40) {
                            var_s2 = 0x2E;
                            var_v1 = 0x2E;
                        } else if (var_v1 == 0x3F) {
                            var_s2 = 0x2D;
                            var_v1 = 0x2D;
                        } else {
                            if ((s32) var_v1 < 0xA) {
                                var_s2 = (var_v1 + 0x30) & 0xFF;
                                goto block_68;
                            }
                            if ((s32) var_v1 < 0x24) {
                                var_s2 = (var_v1 + 0x37) & 0xFF;
                                goto block_68;
                            }
                            if ((s32) var_v1 < 0x3E) {
                                var_s2 = (var_v1 + 0x3D) & 0xFF;
block_68:
                                var_v1 = var_s2;
                            }
                        }
                        if (var_v1 != 0x20) {
                            Font_LoadCharNES(play, var_s2 & 0xFF, spBC);
                            spBC += 0x80;
                        }
                        temp_s6->decodedBuffer.schar[spDA] = (s8) var_s2;
                        var_s1 += 1;
                        spDA += 1;
                    } while (var_s1 < var_s0);
                }
                spDA -= 1;
            } else if (temp_s2 == 0xC1) {
                spC6 = 2;
                spD0 = 2;
                DmaMgr_SendRequest0(sp70->unk1EF8 + 0x1000, (u32) _message_texture_staticSegmentRomStart, 0x900U);
                DmaMgr_SendRequest0(sp70->unk1EF8 + 0x1900, (u32) (_message_texture_staticSegmentRomStart + 0x900), 0x900U);
                temp_s6->unk12012 = sp70->unk206A + 8;
                temp_s6->unk11F18 = 1;
                temp_s6->unk12010 = gGameInfo->data[0x56F];
            } else if (temp_s2 == 0xC2) {
                temp_s6->unk11F18 = 0;
                temp_s6->choiceNum = 2;
            } else if (temp_s2 == 0xC3) {
                temp_s6->unk11F18 = 0;
                temp_s6->choiceNum = 3;
                temp_s6->unk11FF8 = sp70->unk1FF8 + 0x16;
            } else {
                temp_t9 = temp_s2 * 8;
                if (temp_s2 == 0xC4) {
                    temp_a0 = *(&gSaveContext.pictoPhotoI5[0x26E0] + temp_t9);
                    temp_a1 = *(&gSaveContext.pictoPhotoI5[0x26E4] + temp_t9);
                    var_s1_2 = 0;
                    var_s2_2 = 0;
                    sp90 = temp_a0;
                    sp94 = temp_a1;
                    func_80159438(/* u64+0x0 */ temp_a0, /* u64+0x4 */ temp_a1, &spA8);
                    do {
                        if ((var_s1_2 == 1) || ((sp + (var_s1_2 * 2))->unkAE != 0x30)) {
                            var_s2_2 = 1;
                        }
                        if (var_s2_2 != 0) {
                            Message_LoadCharNES(play, (sp + (var_s1_2 * 2))->unkAF, &spBC, &spA4, (s16) (s32) spDA);
                            spDA += 1;
                        }
                        var_s1_2 += 1;
                    } while (var_s1_2 < 5);
                    spDA -= 1;
                } else if ((temp_s2 != 0xC5) && (temp_s2 != 0xC6) && (temp_s2 != 0xC7) && (temp_s2 != 0xC8)) {
                    if (temp_s2 == 0xC9) {
                        goto block_95;
                    }
                    if (temp_s2 == 0xCA) {
                        spC8 = 0;
                        temp_fv0 = (f32) gSaveContext.save.time * 0.021972656f;
                        var_s1_3 = 0;
                        temp_ft2 = (s32) (temp_fv0 / 60.0f);
                        spCA = (s16) temp_ft2;
                        if ((s16) temp_ft2 >= 0xA) {
                            do {
                                temp_t9_2 = spCA - 0xA;
                                spC8 += 1;
                                spCA = temp_t9_2;
                            } while (temp_t9_2 >= 0xA);
                        }
                        spCC = 0;
                        var_a3 = (s16) ((s32) temp_fv0 % 60);
                        spCE = var_a3;
                        if (var_a3 >= 0xA) {
                            do {
                                var_a3 -= 0xA;
                                spCC += 1;
                            } while (var_a3 >= 0xA);
                            spCE = var_a3;
                        }
                        do {
                            temp_s0 = &(&spC8)[var_s1_3];
                            Font_LoadCharNES(play, (*temp_s0 + 0x30) & 0xFF, spBC);
                            spBC += 0x80;
                            temp_s6->decodedBuffer.schar[spDA] = *temp_s0 + 0x30;
                            spDA += 1;
                            if (var_s1_3 == 1) {
                                Font_LoadCharNES(play, 0x22U, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = 0x22;
                                spDA += 1;
                            } else if (var_s1_3 == 3) {
                                Font_LoadCharNES(play, 0x27U, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = 0x27;
                            }
                            var_s1_3 += 1;
                        } while (var_s1_3 < 4);
                        spA4 += 6.0f * (16.0f * sp70->unk2098);
                    } else if (temp_s2 == 0xCB) {
                        spCC = 0;
                        spCA = 0;
                        spC8 = 0;
                        var_s1_4 = 0;
                        var_s2_3 = 0;
                        var_a3_2 = Flags_GetAllTreasure(play);
                        if (var_a3_2 >= 0x3E8) {
                            do {
                                var_a3_2 -= 0x3E8;
                                spC8 += 1;
                            } while (var_a3_2 >= 0x3E8);
                        }
                        if (var_a3_2 >= 0x64) {
                            do {
                                var_a3_2 -= 0x64;
                                spCA += 1;
                            } while (var_a3_2 >= 0x64);
                        }
                        if (var_a3_2 >= 0xA) {
                            do {
                                var_a3_2 -= 0xA;
                                spCC += 1;
                            } while (var_a3_2 >= 0xA);
                        }
                        do {
                            if (var_s1_4 != 3) {
                                spCE = var_a3_2;
                                if ((&spC8)[var_s1_4] != 0) {
                                    var_a3_2 = spCE;
                                    goto block_127;
                                }
                            } else {
block_127:
                                var_s2_3 = 1;
                                spCE = var_a3_2;
                            }
                            var_a3_2 = spCE;
                            if (var_s2_3 != 0) {
                                temp_s0_2 = &(&spC8)[var_s1_4];
                                Font_LoadCharNES(play, (*temp_s0_2 + 0x30) & 0xFF, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = *temp_s0_2 + 0x30;
                                spDA += 1;
                                var_a3_2 = spCE;
                                spA4 += 16.0f * sp70->unk2098;
                            }
                            var_s1_4 += 1;
                        } while (var_s1_4 < 4);
                        spCE = var_a3_2;
                        spDA -= 1;
                    } else if (temp_s2 == 0xCC) {
                        spDA += 1;
                        temp_s6->unk120BE = spC6;
                        temp_s6->unk120C0 = spDA;
                        temp_s6->unk120C2 = 2;
                        temp_s6->bankRupeesSelected = 0;
                        temp_s6->unk120C4 = spBC;
                        spC8 = 0;
                        spCA = 0;
                        spCC = 0;
                        var_s1_5 = 0;
                        do {
                            Message_LoadCharNES(play, ((&spC8)[var_s1_5] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                            var_s1_5 += 1;
                            spDA += 1;
                        } while (var_s1_5 < 3);
                        Message_LoadLocalizedRupeesNES(play, &spDA, &spBC, &spA4);
                    } else if (temp_s2 == 0xCD) {
                        spCA = 0;
                        spC8 = 0;
                        temp_t7 = sp70->unk2078;
                        var_s1_6 = 0;
                        var_s2_4 = 0;
                        spCC = (s16) temp_t7;
                        if ((s16) temp_t7 >= 0x64) {
                            do {
                                temp_t2 = spCC - 0x64;
                                spC8 += 1;
                                spCC = temp_t2;
                            } while (temp_t2 >= 0x64);
                        }
                        if (spCC >= 0xA) {
                            do {
                                temp_t5 = spCC - 0xA;
                                spCA += 1;
                                spCC = temp_t5;
                            } while (temp_t5 >= 0xA);
                        }
                        do {
                            if ((var_s1_6 == 2) || ((&spC8)[var_s1_6] != 0)) {
                                var_s2_4 = 1;
                            }
                            if (var_s2_4 != 0) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_6] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                spDA += 1;
                            }
                            var_s1_6 += 1;
                        } while (var_s1_6 < 3);
                        Message_LoadRupeesNES(play, &spDA, &spBC, &spA4, (s16) sp70->unk2078);
                    } else if (temp_s2 == 0xCE) {
                        spCC = 0;
                        spCA = 0;
                        spC8 = 0;
                        temp_t9_3 = sp70->unk207C;
                        var_s1_7 = 0;
                        var_s2_5 = 0;
                        spCE = (s16) temp_t9_3;
                        if ((s16) temp_t9_3 >= 0x3E8) {
                            var_a3_3 = (s16) temp_t9_3;
                            do {
                                var_a3_3 -= 0x3E8;
                                spC8 += 1;
                            } while (var_a3_3 >= 0x3E8);
                            spCE = var_a3_3;
                        }
                        var_a3_4 = spCE;
                        if (var_a3_4 >= 0x64) {
                            do {
                                var_a3_4 -= 0x64;
                                spCA += 1;
                            } while (var_a3_4 >= 0x64);
                        }
                        spCE = var_a3_4;
                        if (var_a3_4 >= 0xA) {
                            do {
                                var_a3_4 -= 0xA;
                                spCC += 1;
                            } while (var_a3_4 >= 0xA);
                            spCE = var_a3_4;
                        }
                        do {
                            if ((var_s1_7 == 3) || ((&spC8)[var_s1_7] != 0)) {
                                var_s2_5 = 1;
                            }
                            if (var_s2_5 != 0) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_7] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                spDA += 1;
                            }
                            var_s1_7 += 1;
                        } while (var_s1_7 < 4);
                        Message_LoadRupeesNES(play, &spDA, &spBC, &spA4, (s16) sp70->unk207C);
                    } else if (temp_s2 == 0xCF) {
                        Message_LoadTimeNES(play, temp_s2 & 0xFF, &spBC, &spA4, &spDA);
                    } else if (temp_s2 == 0xC) {
                        spCA = 0;
                        spC8 = 0;
                        var_s1_8 = 0;
                        spCC = (s16) gSaveContext.save.inventory.strayFairies[gSaveContext.dungeonIndex];
                        var_s2_6 = 0;
                        if (spCC >= 0x64) {
                            do {
                                temp_t5_2 = spCC - 0x64;
                                spC8 += 1;
                                spCC = temp_t5_2;
                            } while (temp_t5_2 >= 0x64);
                        }
                        if (spCC >= 0xA) {
                            do {
                                temp_t7_2 = spCC - 0xA;
                                spCA += 1;
                                spCC = temp_t7_2;
                            } while (temp_t7_2 >= 0xA);
                        }
                        do {
                            if ((var_s1_8 == 2) || ((&spC8)[var_s1_8] != 0)) {
                                var_s2_6 = 1;
                            }
                            if (var_s2_6 != 0) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_8] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                spDA += 1;
                            }
                            var_s1_8 += 1;
                        } while (var_s1_8 < 3);
                        temp_v0 = gSaveContext.dungeonIndex;
                        temp_a1_2 = temp_v0 & 0xFFFF;
                        temp_v1 = temp_v0 & 0xFFFF;
                        if ((gSaveContext.save.inventory.strayFairies[temp_a1_2] == 1) || (gSaveContext.save.inventory.strayFairies[temp_v1] == 0x15)) {
                            Message_LoadCharNES(play, 0x73U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t4 = spDA + 1;
                            spDA = temp_t4;
                            Message_LoadCharNES(play, 0x74U, &spBC, &spA4, (s16) (s32) temp_t4);
                        } else if ((gSaveContext.save.inventory.strayFairies[temp_a1_2] == 2) || (gSaveContext.save.inventory.strayFairies[temp_v1] == 0x16)) {
                            Message_LoadCharNES(play, 0x6EU, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t4_2 = spDA + 1;
                            spDA = temp_t4_2;
                            Message_LoadCharNES(play, 0x64U, &spBC, &spA4, (s16) (s32) temp_t4_2);
                        } else if ((gSaveContext.save.inventory.strayFairies[temp_a1_2] == 3) || (gSaveContext.save.inventory.strayFairies[temp_v1] == 0x17)) {
                            Message_LoadCharNES(play, 0x72U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t4_3 = spDA + 1;
                            spDA = temp_t4_3;
                            Message_LoadCharNES(play, 0x64U, &spBC, &spA4, (s16) (s32) temp_t4_3);
                        } else {
                            Message_LoadCharNES(play, 0x74U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t5_3 = spDA + 1;
                            spDA = temp_t5_3;
                            Message_LoadCharNES(play, 0x68U, &spBC, &spA4, (s16) (s32) temp_t5_3);
                        }
                    } else if (temp_s2 == 0xD) {
                        spCA = 0;
                        spC8 = 0;
                        var_s1_9 = 0;
                        var_s2_7 = 0;
                        spCC = Inventory_GetSkullTokenCount(play->sceneId);
                        if (spCC >= 0x64) {
                            do {
                                temp_t7_3 = spCC - 0x64;
                                spC8 += 1;
                                spCC = temp_t7_3;
                            } while (temp_t7_3 >= 0x64);
                        }
                        if (spCC >= 0xA) {
                            do {
                                temp_t3 = spCC - 0xA;
                                spCA += 1;
                                spCC = temp_t3;
                            } while (temp_t3 >= 0xA);
                        }
                        do {
                            if ((var_s1_9 == 2) || ((&spC8)[var_s1_9] != 0)) {
                                var_s2_7 = 1;
                            }
                            if (var_s2_7 != 0) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_9] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                spDA += 1;
                            }
                            var_s1_9 += 1;
                        } while (var_s1_9 < 3);
                        if ((Inventory_GetSkullTokenCount(play->sceneId) == 1) || (Inventory_GetSkullTokenCount(play->sceneId) == 0x15)) {
                            Message_LoadCharNES(play, 0x73U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t7_4 = spDA + 1;
                            spDA = temp_t7_4;
                            Message_LoadCharNES(play, 0x74U, &spBC, &spA4, (s16) (s32) temp_t7_4);
                        } else if ((Inventory_GetSkullTokenCount(play->sceneId) == 2) || (Inventory_GetSkullTokenCount(play->sceneId) == 0x16)) {
                            Message_LoadCharNES(play, 0x6EU, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t6 = spDA + 1;
                            spDA = temp_t6;
                            Message_LoadCharNES(play, 0x64U, &spBC, &spA4, (s16) (s32) temp_t6);
                        } else if ((Inventory_GetSkullTokenCount(play->sceneId) == 3) || (Inventory_GetSkullTokenCount(play->sceneId) == 0x17)) {
                            Message_LoadCharNES(play, 0x72U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t7_5 = spDA + 1;
                            spDA = temp_t7_5;
                            Message_LoadCharNES(play, 0x64U, &spBC, &spA4, (s16) (s32) temp_t7_5);
                        } else {
                            Message_LoadCharNES(play, 0x74U, &spBC, &spA4, (s16) (s32) spDA);
                            temp_t6_2 = spDA + 1;
                            spDA = temp_t6_2;
                            Message_LoadCharNES(play, 0x68U, &spBC, &spA4, (s16) (s32) temp_t6_2);
                        }
                    } else if (temp_s2 == 0xE) {
                        temp_t4_4 = gSaveContext.minigameScore;
                        spC8 = 0;
                        var_s1_10 = 0;
                        spCA = temp_t4_4;
                        if ((s16) temp_t4_4 >= 0xA) {
                            do {
                                temp_t0 = (s16) spCA - 0xA;
                                spC8 += 1;
                                spCA = temp_t0;
                            } while (temp_t0 >= 0xA);
                        }
                        do {
                            if ((var_s1_10 == 1) || ((&spC8)[var_s1_10] != 0)) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_10] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                spDA += 1;
                            }
                            var_s1_10 += 1;
                        } while (var_s1_10 < 2);
                        spDA -= 1;
                    } else if (temp_s2 == 0xF) {
                        var_a3_5 = (s16) gSaveContext.minigameScore;
                        spCC = 0;
                        spCA = 0;
                        spC8 = 0;
                        var_s1_11 = 0;
                        var_s2_8 = 0;
                        if (var_a3_5 >= 0x3E8) {
                            do {
                                var_a3_5 -= 0x3E8;
                                spC8 += 1;
                            } while (var_a3_5 >= 0x3E8);
                        }
                        if (var_a3_5 >= 0x64) {
                            do {
                                var_a3_5 -= 0x64;
                                spCA += 1;
                            } while (var_a3_5 >= 0x64);
                        }
                        if (var_a3_5 >= 0xA) {
                            do {
                                var_a3_5 -= 0xA;
                                spCC += 1;
                            } while (var_a3_5 >= 0xA);
                        }
                        do {
                            if (var_s1_11 != 3) {
                                spCE = var_a3_5;
                                if ((&spC8)[var_s1_11] != 0) {
                                    var_a3_5 = spCE;
                                    goto block_227;
                                }
                            } else {
block_227:
                                var_s2_8 = 1;
                                spCE = var_a3_5;
                            }
                            var_a3_5 = spCE;
                            if (var_s2_8 != 0) {
                                Message_LoadCharNES(play, ((&spC8)[var_s1_11] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                var_a3_5 = spCE;
                                spDA += 1;
                            }
                            var_s1_11 += 1;
                        } while (var_s1_11 < 4);
                        spCE = var_a3_5;
                        spDA -= 1;
                    } else if (temp_s2 == 0xD0) {
                        spDA += 1;
                        temp_s6->unk120BE = spC6;
                        temp_s6->unk120C0 = spDA;
                        temp_s6->unk120C2 = 0;
                        temp_s6->bankRupeesSelected = 0;
                        temp_s6->unk120C4 = spBC;
                        spC8 = 0;
                        spCA = 0;
                        spCC = 0;
                        var_s1_12 = 0;
                        do {
                            Message_LoadCharNES(play, ((&spC8)[var_s1_12] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                            var_s1_12 += 1;
                            spDA += 1;
                        } while (var_s1_12 < 2);
                        Message_LoadPluralRupeesNES(play, &spDA, &spBC, &spA4);
                    } else if (temp_s2 == 0xD1) {
                        spDA += 1;
                        temp_s6->unk120BE = spC6;
                        temp_s6->unk120C0 = spDA;
                        temp_s6->unk120C2 = 0;
                        temp_s6->bankRupeesSelected = 0;
                        var_s1_13 = 0;
                        temp_s6->unk120C4 = spBC;
                        do {
                            temp_s6->unk12054[var_s1_13] = 1;
                            Message_LoadCharNES(play, 0x31U, &spBC, &spA4, (s16) (s32) spDA);
                            var_s1_13 += 1;
                            spDA += 1;
                        } while (var_s1_13 < 5);
                        spDA -= 1;
                    } else if (temp_s2 == 0xD3) {
                        temp_v0_2 = gSaveContext.save.timeSpeedOffset;
                        var_s1_14 = 0;
                        if (temp_v0_2 == 0x12) {
                            var_s2_9 = 0;
                        } else if (temp_v0_2 == 0) {
                            var_s2_9 = 1;
                        } else {
                            var_s2_9 = 2;
                        }
                        do {
                            temp_v0_3 = &D_801D08D8[var_s2_9][var_s1_14];
                            temp_s6->decodedBuffer.schar[spDA] = (s8) (u8) *temp_v0_3;
                            Font_LoadCharNES(play, (u8) *temp_v0_3, spBC);
                            var_s1_14 += 1;
                            spDA += 1;
                            spBC += 0x80;
                        } while (var_s1_14 < 4);
                        spDA -= 1;
                        spA4 += 3.0f * (16.0f * sp70->unk2098);
                        temp_s6->choiceIndex = var_s2_9;
                    } else if (temp_s2 == 0xD4) {
                        Message_LoadOwlWarpTextNES(play, &spBC, &spA4, &spDA);
                    } else if (temp_s2 == 0xD5) {
                        spDA += 1;
                        temp_s6->unk120BE = spC6;
                        temp_s6->unk120C0 = spDA;
                        temp_s6->unk120C2 = 0;
                        temp_s6->bankRupeesSelected = 0;
                        var_s1_15 = 0;
                        temp_s6->unk120C4 = spBC;
                        do {
                            temp_s6->unk12054[var_s1_15] = 1;
                            Font_LoadCharNES(play, 0x31U, spBC);
                            spBC += 0x80;
                            temp_s6->decodedBuffer.schar[spDA] = 0x31;
                            var_s1_15 += 1;
                            spDA += 1;
                            spA4 += 16.0f * sp70->unk2098;
                        } while (var_s1_15 < 3);
                        spDA -= 1;
                    } else if (temp_s2 == 0xD6) {
                        var_s1_16 = 0;
                        do {
                            temp_s6->decodedBuffer.schar[spDA] = (s8) D_801D08E4[gSaveContext.save.spiderHouseMaskOrder[var_s1_16]];
                            temp_t2_2 = spDA + 1;
                            spDA = temp_t2_2;
                            Message_LoadCharNES(play, (var_s1_16 + 0x31) & 0xFF, &spBC, &spA4, (s16) (s32) temp_t2_2);
                            var_s1_16 += 1;
                            spDA += 1;
                        } while (var_s1_16 < 6);
                        temp_s6->decodedBuffer.schar[spDA] = 0;
                    } else if (((s32) temp_s2 >= 0xD7) && ((s32) temp_s2 < 0xDB)) {
                        spCA = 0;
                        temp_t2_3 = 0xF - *(&gSaveContext - 3 + temp_s2);
                        spC8 = 0;
                        spCC = temp_t2_3;
                        var_s1_17 = 0;
                        var_s2_10 = 0;
                        if (temp_t2_3 >= 0x64) {
                            do {
                                temp_t5_4 = spCC - 0x64;
                                spC8 += 1;
                                spCC = temp_t5_4;
                            } while (temp_t5_4 >= 0x64);
                        }
                        if (spCC >= 0xA) {
                            do {
                                temp_t9_4 = spCC - 0xA;
                                spCA += 1;
                                spCC = temp_t9_4;
                            } while (temp_t9_4 >= 0xA);
                        }
                        do {
                            if (var_s1_17 != 2) {
                                if ((&spC8)[var_s1_17] != 0) {
                                    goto block_268;
                                }
                            } else {
block_268:
                                var_s2_10 = 1;
                            }
                            if (var_s2_10 != 0) {
                                temp_s0_3 = &(&spC8)[var_s1_17];
                                Font_LoadCharNES(play, (*temp_s0_3 + 0x30) & 0xFF, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = *temp_s0_3 + 0x30;
                                spDA += 1;
                                spA4 += 16.0f * sp70->unk2098;
                            }
                            var_s1_17 += 1;
                        } while (var_s1_17 < 3);
                    } else if (temp_s2 == 0xDB) {
                        var_a3_6 = (s16) gSaveContext.minigameScore;
                        spCC = 0;
                        spCA = 0;
                        spC8 = 0;
                        var_s1_18 = 0;
                        var_s2_11 = 0;
                        if (var_a3_6 >= 0x3E8) {
                            do {
                                var_a3_6 -= 0x3E8;
                                spC8 += 1;
                            } while (var_a3_6 >= 0x3E8);
                        }
                        if (var_a3_6 >= 0x64) {
                            do {
                                var_a3_6 -= 0x64;
                                spCA += 1;
                            } while (var_a3_6 >= 0x64);
                        }
                        if (var_a3_6 >= 0xA) {
                            do {
                                var_a3_6 -= 0xA;
                                spCC += 1;
                            } while (var_a3_6 >= 0xA);
                        }
                        do {
                            if (var_s1_18 != 3) {
                                spCE = var_a3_6;
                                if ((&spC8)[var_s1_18] != 0) {
                                    var_a3_6 = spCE;
                                    goto block_283;
                                }
                            } else {
block_283:
                                var_s2_11 = 1;
                                spCE = var_a3_6;
                            }
                            var_a3_6 = spCE;
                            if (var_s2_11 != 0) {
                                temp_s0_4 = &(&spC8)[var_s1_18];
                                Font_LoadCharNES(play, (*temp_s0_4 + 0x30) & 0xFF, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = *temp_s0_4 + 0x30;
                                spDA += 1;
                                var_a3_6 = spCE;
                                spA4 += 16.0f * sp70->unk2098;
                            }
                            var_s1_18 += 1;
                        } while (var_s1_18 < 4);
                        spCE = var_a3_6;
                        spDA -= 1;
                    } else if (temp_s2 != 0xDC) {
                        if (temp_s2 == 0xDD) {
                            goto block_291;
                        }
                        if (temp_s2 == 0xDE) {
                            spCC = 0;
                            spCA = 0;
                            spC8 = 0;
                            temp_a0_2 = spDC->unk146;
                            var_s1_19 = 0;
                            var_s2_12 = 0;
                            if (temp_a0_2 == 0) {
                                temp_v0_4 = gSaveContext.save.playerForm;
                                if (temp_v0_4 == 4) {
                                    var_v1_2 = 0;
                                } else {
                                    var_v1_2 = temp_v0_4;
                                }
                                var_v0 = &gSaveContext.save.equips.buttonItems[0][(var_v1_2 * 4) + temp_a0_2];
                            } else {
                                var_v0 = &gSaveContext.save.equips.buttonItems[0][temp_a0_2];
                            }
                            var_a3_7 = gItemPrices[*var_v0 & 0xFF];
                            if (var_a3_7 >= 0x3E8) {
                                do {
                                    var_a3_7 -= 0x3E8;
                                    spC8 += 1;
                                } while (var_a3_7 >= 0x3E8);
                            }
                            if (var_a3_7 >= 0x64) {
                                do {
                                    var_a3_7 -= 0x64;
                                    spCA += 1;
                                } while (var_a3_7 >= 0x64);
                            }
                            spCE = var_a3_7;
                            if (var_a3_7 >= 0xA) {
                                do {
                                    var_a3_7 -= 0xA;
                                    spCC += 1;
                                } while (var_a3_7 >= 0xA);
                                spCE = var_a3_7;
                            }
                            do {
                                if ((var_s1_19 == 3) || ((&spC8)[var_s1_19] != 0)) {
                                    var_s2_12 = 1;
                                }
                                if (var_s2_12 != 0) {
                                    temp_s0_5 = &(&spC8)[var_s1_19];
                                    Font_LoadCharNES(play, (*temp_s0_5 + 0x30) & 0xFF, spBC);
                                    spBC += 0x80;
                                    temp_s6->decodedBuffer.schar[spDA] = *temp_s0_5 + 0x30;
                                    spDA += 1;
                                    spA4 += 16.0f * sp70->unk2098;
                                }
                                var_s1_19 += 1;
                            } while (var_s1_19 < 4);
                            Message_LoadPluralRupeesNES(play, &spDA, &spBC, &spA4);
                        } else if (temp_s2 == 0xDF) {
                            var_s1_20 = 0;
                            do {
                                temp_s0_6 = &(&spC8)[var_s1_20];
                                *temp_s0_6 = (s16) gSaveContext.save.bomberCode[var_s1_20];
                                Font_LoadCharNES(play, (*temp_s0_6 + 0x30) & 0xFF, spBC);
                                spBC += 0x80;
                                temp_s6->decodedBuffer.schar[spDA] = *temp_s0_6 + 0x30;
                                spDA += 1;
                                var_s1_20 += 1;
                                spA4 += 16.0f * sp70->unk2098;
                            } while (var_s1_20 < 5);
                            spDA -= 1;
                        } else if (((s32) temp_s2 >= 0xE1) && (temp_t5_5 = temp_s2 - 0xE1, (((s32) temp_s2 < 0xE7) != 0))) {
                            temp_s6->decodedBuffer.schar[spDA] = (s8) D_801D08E4[gSaveContext.save.spiderHouseMaskOrder[temp_t5_5]];
                            temp_s2_2 = D_801D0900[gSaveContext.save.spiderHouseMaskOrder[temp_t5_5]];
                            spDA += 1;
                            var_s0_2 = 0;
                            if ((s32) temp_s2_2 > 0) {
                                do {
                                    Message_LoadCharNES(play, (u8) (*D_801D08E8)[(gSaveContext.save.spiderHouseMaskOrder[temp_t5_5] * 6) + var_s0_2], &spBC, &spA4, (s16) (s32) spDA);
                                    var_s0_2 += 1;
                                    spDA += 1;
                                } while (var_s0_2 < (s32) temp_s2_2);
                            }
                            temp_s6->decodedBuffer.schar[spDA] = 0;
                        } else if (temp_s2 == 0xE7) {
                            spC8 = 0;
                            var_s1_21 = 0;
                            var_s2_13 = 0;
                            temp_ft3 = (s32) (((f32) ((-(((s32) gSaveContext.save.day % 5) << 0x10) - ((gSaveContext.save.time - 0x4000) & 0xFFFF)) + 0x40000) * 0.021972656f) / 60.0f);
                            spCA = (s16) temp_ft3;
                            if ((s16) temp_ft3 >= 0xA) {
                                do {
                                    temp_t7_6 = spCA - 0xA;
                                    spC8 += 1;
                                    spCA = temp_t7_6;
                                } while (temp_t7_6 >= 0xA);
                            }
                            do {
                                if ((var_s1_21 == 1) || ((&spC8)[var_s1_21] != 0)) {
                                    var_s2_13 = 1;
                                }
                                if (var_s2_13 != 0) {
                                    Message_LoadCharNES(play, ((&spC8)[var_s1_21] + 0x30) & 0xFF, &spBC, &spA4, (s16) (s32) spDA);
                                    spDA += 1;
                                }
                                var_s1_21 += 1;
                            } while (var_s1_21 < 2);
                            temp_s6->decodedBuffer.schar[spDA] = 0x20;
                            temp_t6_3 = spDA + 1;
                            spDA = temp_t6_3;
                            Message_LoadCharNES(play, 0x68U, &spBC, &spA4, (s16) (s32) temp_t6_3);
                            temp_t7_7 = spDA + 1;
                            spDA = temp_t7_7;
                            Message_LoadCharNES(play, 0x6FU, &spBC, &spA4, (s16) (s32) temp_t7_7);
                            temp_t3_2 = spDA + 1;
                            spDA = temp_t3_2;
                            Message_LoadCharNES(play, 0x75U, &spBC, &spA4, (s16) (s32) temp_t3_2);
                            temp_t4_5 = spDA + 1;
                            spDA = temp_t4_5;
                            Message_LoadCharNES(play, 0x72U, &spBC, &spA4, (s16) (s32) temp_t4_5);
                            if ((spC8 != 0) || (spCA != 1)) {
                                temp_t3_3 = spDA + 1;
                                spDA = temp_t3_3;
                                Message_LoadCharNES(play, 0x73U, &spBC, &spA4, (s16) (s32) temp_t3_3);
                            }
                        } else if (temp_s2 == 0xE8) {
                            Message_LoadTimeNES(play, temp_s2 & 0xFF, &spBC, &spA4, &spDA);
                        } else if ((temp_s2 != 0xF0) && (temp_s2 != 0xF1) && (temp_s2 != 0xF2)) {
                            if (temp_s2 == 0xF8) {
                                goto block_345;
                            }
                            if ((temp_s2 != 0xF7) && (temp_s2 != 0xF9) && (temp_s2 != 0xFA) && (temp_s2 != 0xFB)) {
                                if (temp_s2 == 0xFC) {
                                    goto block_376;
                                }
                                if ((temp_s2 == 0xF3) || (temp_s2 == 0xF4) || (temp_s2 == 0xF5)) {
                                    spCC = 0;
                                    spCA = 0;
                                    var_a3_8 = *(&gSaveContext + 0xB1E + (temp_s2 * 4));
                                    spC8 = 0;
                                    var_s1_22 = 0;
                                    if (var_a3_8 >= 0x3C) {
                                        do {
                                            temp_t8 = spCA + 1;
                                            spCA = temp_t8;
                                            if (temp_t8 >= 0xA) {
                                                spCA = temp_t8 - 0xA;
                                                spC8 += 1;
                                            }
                                            var_a3_8 -= 0x3C;
                                        } while (var_a3_8 >= 0x3C);
                                    }
                                    spCE = var_a3_8;
                                    if (var_a3_8 >= 0xA) {
                                        do {
                                            var_a3_8 -= 0xA;
                                            spCC += 1;
                                        } while (var_a3_8 >= 0xA);
                                        spCE = var_a3_8;
                                    }
                                    do {
                                        temp_s0_7 = &(&spC8)[var_s1_22];
                                        Font_LoadCharNES(play, (*temp_s0_7 + 0x30) & 0xFF, spBC);
                                        spBC += 0x80;
                                        temp_s6->decodedBuffer.schar[spDA] = *temp_s0_7 + 0x30;
                                        spDA += 1;
                                        if (var_s1_22 == 1) {
                                            Font_LoadCharNES(play, 0x22U, spBC);
                                            spBC += 0x80;
                                            temp_s6->decodedBuffer.schar[spDA] = 0x22;
                                            spDA += 1;
                                        } else if (var_s1_22 == 3) {
                                            Font_LoadCharNES(play, 0x27U, spBC);
                                            spBC += 0x80;
                                            temp_s6->decodedBuffer.schar[spDA] = 0x27;
                                        }
                                        var_s1_22 += 1;
                                    } while (var_s1_22 < 4);
                                    spA4 += 4.0f * (16.0f * sp70->unk2098);
                                } else if (temp_s2 == 0xF6) {
                                    spCC = 0;
                                    spCA = 0;
                                    var_a3_9 = (s16) gSaveContext.save.shootingGalleryHighScores;
                                    spC8 = 0;
                                    var_s1_23 = 0;
                                    var_s2_14 = 0;
                                    if (var_a3_9 >= 0x3E8) {
                                        do {
                                            var_a3_9 -= 0x3E8;
                                            spC8 += 1;
                                        } while (var_a3_9 >= 0x3E8);
                                    }
                                    if (var_a3_9 >= 0x64) {
                                        do {
                                            var_a3_9 -= 0x64;
                                            spCA += 1;
                                        } while (var_a3_9 >= 0x64);
                                    }
                                    if (var_a3_9 >= 0xA) {
                                        do {
                                            var_a3_9 -= 0xA;
                                            spCC += 1;
                                        } while (var_a3_9 >= 0xA);
                                    }
                                    do {
                                        if (var_s1_23 != 3) {
                                            spCE = var_a3_9;
                                            if ((&spC8)[var_s1_23] != 0) {
                                                var_a3_9 = spCE;
                                                goto block_417;
                                            }
                                        } else {
block_417:
                                            var_s2_14 = 1;
                                            spCE = var_a3_9;
                                        }
                                        var_a3_9 = spCE;
                                        if (var_s2_14 != 0) {
                                            temp_s0_8 = &(&spC8)[var_s1_23];
                                            Font_LoadCharNES(play, (*temp_s0_8 + 0x30) & 0xFF, spBC);
                                            spBC += 0x80;
                                            temp_s6->decodedBuffer.schar[spDA] = *temp_s0_8 + 0x30;
                                            spDA += 1;
                                            var_a3_9 = spCE;
                                            spA4 += 16.0f * sp70->unk2098;
                                        }
                                        var_s1_23 += 1;
                                    } while (var_s1_23 < 4);
                                    spCE = var_a3_9;
                                    spDA -= 1;
                                } else if ((temp_s2 == 0xFD) || (temp_s2 == 0xFE) || (temp_s2 == 0xFF)) {
                                    temp_a0_3 = temp_s2 - 0xFD;
                                    var_s0_3 = 8;
                                    var_s1_24 = 0;
loop_426:
                                    if (((temp_a0_3 * 8) + &gSaveContext + var_s0_3)->unkDD == 0x3E) {
                                        var_s0_3 -= 1;
                                        if (var_s0_3 > 0) {
                                            goto loop_426;
                                        }
                                    }
                                    if (var_s0_3 > 0) {
                                        do {
                                            (temp_s6 + spDA + var_s1_24)->unk11F24 = 0xFD;
                                            var_v1_3 = 0;
loop_431:
                                            temp_v0_5 = var_v1_3 + (temp_s3 + (((temp_a0_3 * 8) + &gSaveContext + var_s1_24)->unkDE << 7) + 0x7880);
                                            *(temp_s3 + (temp_s3->unk_11D88 * 0x3C00) + spBC + var_v1_3) = temp_v0_5->unk0;
                                            (temp_s3 + (temp_s3->unk_11D88 * 0x3C00) + spBC + var_v1_3)->unk1 = (u8) temp_v0_5->unk1;
                                            (temp_s3 + (temp_s3->unk_11D88 * 0x3C00) + spBC + var_v1_3)->unk2 = (u8) temp_v0_5->unk2;
                                            temp_t1 = temp_s3 + (temp_s3->unk_11D88 * 0x3C00) + spBC + var_v1_3;
                                            var_v1_3 += 4;
                                            temp_t1->unk3 = (u8) temp_v0_5->unk3;
                                            if (var_v1_3 < 0x80) {
                                                goto loop_431;
                                            }
                                            var_s1_24 += 1;
                                            spBC += 0x80;
                                        } while (var_s1_24 < var_s0_3);
                                    }
                                    spDA = (spDA + var_s0_3) - 1;
                                    spA4 += (f32) var_s0_3 * (16.0f * sp70->unk2098);
                                } else if (temp_s2 == 0xB) {
                                    spCC = 0;
                                    var_a3_10 = (s16) ((u32) (gSaveContext.save.unk_EE8 & 0xFFFF0000) >> 0x10);
                                    spCA = 0;
                                    spC8 = 0;
                                    var_s1_25 = 0;
                                    var_s2_15 = 0;
                                    if (var_a3_10 >= 0x3E8) {
                                        do {
                                            var_a3_10 -= 0x3E8;
                                            spC8 += 1;
                                        } while (var_a3_10 >= 0x3E8);
                                    }
                                    if (var_a3_10 >= 0x64) {
                                        do {
                                            var_a3_10 -= 0x64;
                                            spCA += 1;
                                        } while (var_a3_10 >= 0x64);
                                    }
                                    if (var_a3_10 >= 0xA) {
                                        do {
                                            var_a3_10 -= 0xA;
                                            spCC += 1;
                                        } while (var_a3_10 >= 0xA);
                                    }
                                    do {
                                        if (var_s1_25 != 3) {
                                            spCE = var_a3_10;
                                            if ((&spC8)[var_s1_25] != 0) {
                                                var_a3_10 = spCE;
                                                goto block_445;
                                            }
                                        } else {
block_445:
                                            var_s2_15 = 1;
                                            spCE = var_a3_10;
                                        }
                                        var_a3_10 = spCE;
                                        if (var_s2_15 != 0) {
                                            temp_s0_9 = &(&spC8)[var_s1_25];
                                            Font_LoadCharNES(play, (*temp_s0_9 + 0x30) & 0xFF, spBC);
                                            spBC += 0x80;
                                            temp_s6->decodedBuffer.schar[spDA] = *temp_s0_9 + 0x30;
                                            spDA += 1;
                                            var_a3_10 = spCE;
                                            spA4 += 16.0f * sp70->unk2098;
                                        }
                                        var_s1_25 += 1;
                                    } while (var_s1_25 < 4);
                                    spCE = var_a3_10;
                                    spDA -= 1;
                                } else if (temp_s2 == 0x14) {
                                    spDA -= 1;
                                    var_v1_4 = sp70->unk1FEC;
                                    var_s1_26 = 0;
                                    if ((s32) temp_s3->charBuf[0][var_v1_4].unk11881 > 0) {
                                        do {
                                            temp_v0_6 = spDA + 1;
                                            spDA = temp_v0_6;
                                            temp_s6->decodedBuffer.schar[temp_v0_6] = 0x20;
                                            var_s1_26 += 1;
                                            spA4 += 6.0f;
                                            var_v1_4 = sp70->unk1FEC;
                                        } while (var_s1_26 < (s32) spE0->charBuf[0][var_v1_4].unk11881);
                                    }
                                    temp_s6->msgBufPos = var_v1_4 + 1;
                                } else if (temp_s2 != 0x13) {
                                    if (temp_s2 == 0x11) {
                                        goto block_458;
                                    }
                                    if ((temp_s2 == 0x17) || (temp_s2 == 0x18) || (temp_s2 == 0x1A)) {

                                    } else if (temp_s2 == 0xA) {
                                        spDA += 1;
                                    } else if (temp_s2 == 0x1C) {
                                        temp_s6->textFade = 1;
                                        temp_v0_7 = spDA + 1;
                                        spDA = temp_v0_7;
                                        temp_a1_3 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_3;
                                        temp_s6->decodedBuffer.schar[temp_v0_7] = (s8) temp_s3->charBuf[0][temp_a1_3].unk11880;
                                        temp_v0_8 = temp_v0_7 + 1;
                                        spDA = temp_v0_8;
                                        temp_a1_4 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_4;
                                        temp_s6->decodedBuffer.schar[temp_v0_8] = (s8) temp_s3->charBuf[0][temp_a1_4].unk11880;
                                    } else if (temp_s2 == 0x1E) {
                                        temp_v0_9 = spDA + 1;
                                        spDA = temp_v0_9;
                                        temp_a1_5 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_5;
                                        temp_s6->decodedBuffer.schar[temp_v0_9] = (s8) temp_s3->charBuf[0][temp_a1_5].unk11880;
                                        temp_v0_10 = temp_v0_9 + 1;
                                        spDA = temp_v0_10;
                                        temp_a1_6 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_6;
                                        temp_s6->decodedBuffer.schar[temp_v0_10] = (s8) temp_s3->charBuf[0][temp_a1_6].unk11880;
                                        if ((sp70->unk2094 != 0) || (temp_v0_11 = sp70->unk1F0A, (temp_v0_11 == 1)) || (temp_v0_11 == 3) || (temp_v0_11 == 6) || (temp_v0_11 == 8) || (temp_v0_11 == 9) || (temp_v0_11 == 0xB) || (sp70->unk1F0C == 3)) {
                                            play_sound((((temp_s6 + spDA)->unk11F23 << 8) | (u8) temp_s6->decodedBuffer.schar[spDA]) & 0xFFFF);
                                        }
                                    } else if (temp_s2 == 0x1F) {
                                        temp_v0_12 = spDA + 1;
                                        spDA = temp_v0_12;
                                        temp_a1_7 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_7;
                                        temp_s6->decodedBuffer.schar[temp_v0_12] = (s8) temp_s3->charBuf[0][temp_a1_7].unk11880;
                                        temp_v0_13 = temp_v0_12 + 1;
                                        spDA = temp_v0_13;
                                        temp_a1_8 = (sp70->unk1FEC + 1) & 0xFFFF;
                                        temp_s6->msgBufPos = temp_a1_8;
                                        temp_s6->decodedBuffer.schar[temp_v0_13] = (s8) temp_s3->charBuf[0][temp_a1_8].unk11880;
                                    } else if ((temp_s2 != 0x20) && ((s32) temp_s2 >= 9)) {
                                        sp78 = (s32) temp_s2;
                                        Font_LoadCharNES(play, temp_s2 & 0xFF, spBC);
                                        spBC += 0x80;
                                        spA4 += *(&sTextboxLowerYPositions + 8 + (temp_s2 * 4)) * sp70->unk2098;
                                    } else if (temp_s2 == 0x20) {
                                        spA4 += 6.0f;
                                    }
                                } else {
block_458:
                                    temp_s6->unk11F1A[spC6] = 0;
                                    if (sp70->unk1F18 != 0) {
                                        temp_s6->unk11F1A[spC6] = (s16) (s32) (((sp70->unk2098 * 16.0f * 16.0f) - spA4) * 0.5f);
                                    }
                                    spC6 += 1;
                                    spA4 = 0.0f;
                                    if (temp_s2 == 0x11) {
                                        spD0 += 1;
                                    }
                                }
                            } else {
block_376:
                                var_fs0 = 8.0f;
                                var_s1_27 = 0;
                                var_s2_16 = 0;
                                if (temp_s2 == 0xF7) {
                                    func_80159438(/* u64+0x0 */ 0, /* u64+0x4 */ gSaveContext.save.unk_EE0, &spA8);
                                } else if (temp_s2 == 0xF9) {
                                    func_80159438(/* u64+0x0 */ 0, /* u64+0x4 */ gSaveContext.save.horseBackBalloonHighScore, &spA8);
                                } else {
                                    func_80159438(/* u64+0x0 */ 0, /* u64+0x4 */ (&gSaveContext.save.permanentSceneFlags[0x57].switch1)[temp_s2], &spA8);
                                }
                                do {
                                    switch (var_s1_27) { /* switch 1; irregular */
                                    case 2:         /* switch 1 */
                                    case 5:         /* switch 1 */
                                        break;
                                    default:        /* switch 1 */
                                        if ((sp + (var_s1_27 * 2))->unkA8 != 0) {
                                        case 4:     /* switch 1 */
                                            var_s2_16 = 1;
                                        }
                                        break;
                                    }
                                    if (var_s2_16 != 0) {
                                        temp_s0_10 = &(&spA8)[var_s1_27];
                                        Font_LoadCharNES(play, temp_s0_10->unk1, spBC);
                                        spBC += 0x80;
                                        temp_s6->decodedBuffer.schar[spDA] = (s8) temp_s0_10->unk0;
                                        spDA += 1;
                                    } else {
                                        var_fs0 -= 1.0f;
                                    }
                                    var_s1_27 += 1;
                                } while (var_s1_27 < 8);
                                spDA -= 1;
                                spA4 += var_fs0 * (16.0f * sp70->unk2098);
                            }
                        } else {
block_345:
                            var_s1_28 = 0;
                            var_s2_17 = 0;
                            if (temp_s2 == 0xF8) {
                                var_a0 = (s16) gSaveContext.save.unk_EE8;
                            } else {
                                var_a0 = *(&gSaveContext + 0xB1E + (temp_s2 * 4));
                            }
                            if (temp_s2 == 0xF2) {
                                if (gSaveContext.save.linkAge != 0) {
                                    var_v0_2 = 5;
                                } else {
                                    var_v0_2 = 0x11;
                                }
                                if (var_v0_2 == 5) {
                                    var_a0_2 = (var_a0 & 0x7F) << 0x10;
                                } else {
                                    var_a0_2 = ((s16) ((u32) ((&gSaveContext.save.bankRupees)[temp_s3->charBuf[0][sp70->unk1FEC].unk11880] & 0xFF000000) >> 0x18) & 0x7F) << 0x10;
                                }
                                var_a0 = (s16) (var_a0_2 >> 0x10);
                            }
                            var_a3_11 = var_a0;
                            spCC = 0;
                            spCA = 0;
                            spC8 = 0;
                            if (var_a3_11 >= 0x3E8) {
                                do {
                                    var_a3_11 -= 0x3E8;
                                    spC8 += 1;
                                } while (var_a3_11 >= 0x3E8);
                            }
                            if (var_a3_11 >= 0x64) {
                                do {
                                    var_a3_11 -= 0x64;
                                    spCA += 1;
                                } while (var_a3_11 >= 0x64);
                            }
                            if (var_a3_11 >= 0xA) {
                                do {
                                    var_a3_11 -= 0xA;
                                    spCC += 1;
                                } while (var_a3_11 >= 0xA);
                            }
                            do {
                                if (var_s1_28 != 3) {
                                    spCE = var_a3_11;
                                    if ((&spC8)[var_s1_28] != 0) {
                                        var_a3_11 = spCE;
                                        goto block_365;
                                    }
                                } else {
block_365:
                                    var_s2_17 = 1;
                                    spCE = var_a3_11;
                                }
                                var_a3_11 = spCE;
                                if (var_s2_17 != 0) {
                                    temp_s0_11 = &(&spC8)[var_s1_28];
                                    Font_LoadCharNES(play, (*temp_s0_11 + 0x30) & 0xFF, spBC);
                                    spBC += 0x80;
                                    temp_s6->decodedBuffer.schar[spDA] = *temp_s0_11 + 0x30;
                                    spDA += 1;
                                    var_a3_11 = spCE;
                                    spA4 += 16.0f * sp70->unk2098;
                                }
                                var_s1_28 += 1;
                            } while (var_s1_28 < 4);
                            spCE = var_a3_11;
                            spDA -= 1;
                        }
                    } else {
block_291:
                        var_s1_29 = 0;
                        if (temp_s2 == 0xDC) {
                            temp_v1_2 = (((s32) gSaveContext.save.day % 5) * 3) + &gSaveContext;
                            spC8 = (s16) temp_v1_2->unkFE9;
                            spCA = (s16) temp_v1_2->unkFEA;
                            spCC = (s16) temp_v1_2->unkFEB;
                        } else {
                            temp_v0_14 = gSaveContext.save.lotteryCodeGuess;
                            spC8 = (s16) ((u32) (temp_v0_14 & 0xF00) >> 8);
                            spCA = (s16) ((u32) (temp_v0_14 & 0xF0) >> 4);
                            spCC = temp_v0_14 & 0xF;
                        }
                        do {
                            temp_s0_12 = &(&spC8)[var_s1_29];
                            Font_LoadCharNES(play, (*temp_s0_12 + 0x30) & 0xFF, spBC);
                            spBC += 0x80;
                            temp_s6->decodedBuffer.schar[spDA] = *temp_s0_12 + 0x30;
                            spDA += 1;
                            var_s1_29 += 1;
                            spA4 += 16.0f * sp70->unk2098;
                        } while (var_s1_29 < 3);
                        spDA -= 1;
                    }
                } else {
block_95:
                    temp_t0_2 = temp_s2 * 8;
                    temp_a0_4 = *(&gSaveContext.pictoPhotoI5[0x26E0] + temp_t0_2);
                    temp_a1_9 = *(&gSaveContext.pictoPhotoI5[0x26E4] + temp_t0_2);
                    var_s1_30 = 0;
                    var_s2_18 = 0;
                    sp90 = temp_a0_4;
                    sp94 = temp_a1_9;
                    func_80159438(/* u64+0x0 */ temp_a0_4, /* u64+0x4 */ temp_a1_9, &spA8);
                    do {
                        switch (var_s1_30) {        /* irregular */
                        case 2:
                        case 5:
                            break;
                        default:
                            if ((sp + (var_s1_30 * 2))->unkA8 != 0x30) {
                            case 4:
                                var_s2_18 = 1;
                            }
                            break;
                        }
                        if (var_s2_18 != 0) {
                            Message_LoadCharNES(play, (sp + (var_s1_30 * 2))->unkA9, &spBC, &spA4, (s16) (s32) spDA);
                            spDA += 1;
                        }
                        var_s1_30 += 1;
                    } while (var_s1_30 < 8);
                    spDA -= 1;
                }
            }
            spDA += 1;
            temp_s6->msgBufPos = sp70->unk1FEC + 1;
            goto loop_1;
        }
    }
    temp_s6->msgMode = 6;
    temp_s6->textDrawPos = 1;
    if (sp70->unk1F0A == 3) {
        temp_s6->unk11FFA = sp70->unk206A + 2;
    } else {
        temp_s6->unk11FFA = sp70->unk206A + 8;
    }
    temp_s6->unk11F1A[spC6] = 0;
    if (sp70->unk1F18 != 0) {
        temp_s6->unk11F1A[spC6] = (s16) ((s16) (s32) ((sp70->unk2098 * 16.0f * 16.0f) - spA4) / 2);
    }
    spA4 = 0.0f;
    if (temp_s2 == 0x12) {
        temp_v0_15 = sp70->unk1F0A;
        if ((temp_v0_15 != 3) && (temp_v0_15 != 4)) {
            if (spD0 < 2) {
                temp_s6->unk11FFA = gGameInfo->data[0x54A] + sp70->unk206A;
            } else if (spD0 == 2) {
                temp_s6->unk11FFA = gGameInfo->data[0x54B] + sp70->unk206A;
            } else if (spD0 == (s16) 3U) {
                temp_s6->unk11FFA = gGameInfo->data[0x54C] + sp70->unk206A;
            }
        }
    } else {
        temp_v0_16 = sp70->unk1F0A;
        if ((temp_v0_16 != 3) && (temp_v0_16 != 4)) {
            if (spD0 == 0) {
                var_at = temp_s6 + 0x10000;
                var_t1 = gGameInfo->data[0x54A] + sp70->unk206A + gGameInfo->data[0x54D];
                goto block_35;
            }
            if (spD0 == 1) {
                temp_s6->unk11FFA = gGameInfo->data[0x54B] + sp70->unk206A + gGameInfo->data[0x54D];
            } else if (spD0 == 2) {
                var_at = temp_s6 + 0x10000;
                var_t1 = gGameInfo->data[0x54C] + sp70->unk206A + gGameInfo->data[0x54D];
block_35:
                var_at->unk1FFA = var_t1;
            }
        }
    }
    if ((temp_s2 == 0x1B) || (temp_s2 == 0x1C) || (temp_s2 == 0x1D)) {
        temp_v0_17 = spDA + 1;
        spDA = temp_v0_17;
        temp_s6->decodedBuffer.schar[temp_v0_17] = (s8) temp_s3->charBuf[0][sp70->unk1FEC].unk11881;
        temp_v0_18 = temp_v0_17 + 1;
        spDA = temp_v0_18;
        temp_s6->decodedBuffer.schar[temp_v0_18] = (s8) temp_s3->charBuf[0][sp70->unk1FEC].unk11882;
        temp_s6->msgBufPos = sp70->unk1FEC + 3;
    }
    temp_s6->decodedTextLen = (u16) spDA;
    temp_s6->unk120D8 = spD0;
    if ((sp70->unk2094 != 0) || (temp_v0_19 = sp70->unk1F0A, (temp_v0_19 == 1)) || (temp_v0_19 == 3) || (temp_v0_19 == 6) || (temp_v0_19 == 8) || (temp_v0_19 == 9) || (temp_v0_19 == 0xB) || (sp70->unk1F0C == 3)) {
        temp_s6->textDrawPos = sp70->unk1FF0;
    }
    temp_s6->unk120C8 = sp70->unk20CE;
    temp_s6->unk120CA = sp70->unk20D0;
    temp_s6->unk120CC = sp70->unk20D2;
}
/* Warning: struct EnTorch2 is not defined (only forward-declared) */
